{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/darun/OneDrive/Desktop/department-portal-2/department-portal-2/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,wPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,yPAAI,GAAG;IAE9B,qBACE,+TAAC;QACC,aAAU;QACV,WAAW,IAAA,mMAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/darun/OneDrive/Desktop/department-portal-2/department-portal-2/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,+TAAC;QACC,aAAU;QACV,WAAW,IAAA,mMAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,+TAAC;QACC,aAAU;QACV,WAAW,IAAA,mMAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,+TAAC;QACC,aAAU;QACV,WAAW,IAAA,mMAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,+TAAC;QACC,aAAU;QACV,WAAW,IAAA,mMAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,+TAAC;QACC,aAAU;QACV,WAAW,IAAA,mMAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,+TAAC;QACC,aAAU;QACV,WAAW,IAAA,mMAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,+TAAC;QACC,aAAU;QACV,WAAW,IAAA,mMAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/darun/OneDrive/Desktop/department-portal-2/department-portal-2/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,wPAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,yPAAI,GAAG;IAE9B,qBACE,+TAAC;QACC,aAAU;QACV,WAAW,IAAA,mMAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/darun/OneDrive/Desktop/department-portal-2/department-portal-2/lib/api.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosError } from 'axios';\r\n\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5000/api/v1';\r\n\r\n// Create axios instance\r\nconst api: AxiosInstance = axios.create({\r\n    baseURL: API_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem('accessToken');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// Response interceptor to handle token refresh\r\napi.interceptors.response.use(\r\n    (response) => response,\r\n    async (error: AxiosError) => {\r\n        const originalRequest: any = error.config;\r\n\r\n        if (error.response?.status === 401 && !originalRequest._retry) {\r\n            originalRequest._retry = true;\r\n\r\n            try {\r\n                const refreshToken = localStorage.getItem('refreshToken');\r\n\r\n                if (!refreshToken) {\r\n                    localStorage.clear();\r\n                    window.location.href = '/';\r\n                    return Promise.reject(error);\r\n                }\r\n\r\n                const response = await axios.post(`${API_URL}/auth/refresh`, {\r\n                    refreshToken,\r\n                });\r\n\r\n                const { accessToken } = response.data;\r\n                localStorage.setItem('accessToken', accessToken);\r\n\r\n                originalRequest.headers.Authorization = `Bearer ${accessToken}`;\r\n                return api(originalRequest);\r\n            } catch (refreshError) {\r\n                localStorage.clear();\r\n                window.location.href = '/';\r\n                return Promise.reject(refreshError);\r\n            }\r\n        }\r\n\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default api;\r\n\r\n// API helper functions\r\nexport const apiClient = {\r\n    // Auth\r\n    login: (email: string, password: string) =>\r\n        api.post('/auth/login', { email, password }),\r\n\r\n    refreshToken: (refreshToken: string) =>\r\n        api.post('/auth/refresh', { refreshToken }),\r\n\r\n    getCurrentUser: () =>\r\n        api.get('/auth/me'),\r\n\r\n    getUsers: (params?: any) =>\r\n        api.get('/users', { params }),\r\n\r\n    createUser: (data: any) =>\r\n        api.post('/users', data),\r\n\r\n    updateUser: (id: string, data: any) =>\r\n        api.put(`/users/${id}`, data),\r\n\r\n    deleteUser: (id: string) =>\r\n        api.delete(`/users/${id}`),\r\n\r\n    // Students\r\n    getStudents: (params?: { year?: string; search?: string; department?: string }) =>\r\n        api.get('/students', { params }),\r\n\r\n    getStudent: (id: string) =>\r\n        api.get(`/students/${id}`),\r\n\r\n    getStudentProfile: () =>\r\n        api.get('/students/profile/me'),\r\n\r\n    createStudent: (data: any) =>\r\n        api.post('/students', data),\r\n\r\n    bulkCreateStudents: (students: any[]) =>\r\n        api.post('/students/bulk', { students }),\r\n\r\n    updateStudent: (id: string, data: any) =>\r\n        api.put(`/students/${id}`, data),\r\n\r\n    updateStudentProfile: (id: string, data: any) =>\r\n        api.put(`/students/${id}/profile`, data),\r\n\r\n    deleteStudent: (id: string) =>\r\n        api.delete(`/students/${id}`),\r\n\r\n    bulkDeleteStudents: (ids: string[]) =>\r\n        api.delete('/students/bulk-delete', { data: { ids } }),\r\n\r\n    resetStudentPassword: (id: string) =>\r\n        api.post(`/students/${id}/reset-password`),\r\n\r\n    // Projects\r\n    getFacultyProjects: () => api.get('/students/projects/faculty'),\r\n    getAllProjects: () => api.get('/students/projects/all'),\r\n    updateProjectStatus: (studentId: string, projectId: string, data: any) =>\r\n        api.put(`/students/${studentId}/projects/${projectId}/status`, data),\r\n\r\n    // Placement\r\n    getCompanies: () => api.get('/placement/companies'),\r\n    createCompany: (data: any) => api.post('/placement/companies', data),\r\n    getApplications: () => api.get('/placement/applications'),\r\n    applyForCompany: (data: any) => api.post('/placement/applications', data),\r\n    updateApplicationStatus: (id: string, status: string) => api.put(`/placement/applications/${id}`, { status }),\r\n    getPlacementStats: () => api.get('/placement/stats'),\r\n\r\n    // Notifications\r\n    getNotifications: () => api.get('/notifications'),\r\n    getSentNotifications: () => api.get('/notifications/sent'),\r\n    markNotificationAsRead: (id: string) => api.put(`/notifications/${id}/read`),\r\n    sendNotification: (data: any) => api.post('/notifications/bulk', data),\r\n\r\n    // Timetable\r\n    getTimetableSettings: () => api.get('/timetable/settings'),\r\n    updateTimetableSettings: (data: any) => api.post('/timetable/settings', data),\r\n    getTimetableEntries: (params?: any) => api.get('/timetable/entries', { params }),\r\n    updateTimetableEntries: (data: any) => api.post('/timetable/entries', data),\r\n\r\n    // Departments\r\n    getDepartments: () => api.get('/departments'),\r\n    getSystemStats: () => api.get('/departments/stats'),\r\n    createDepartment: (data: any) => api.post('/departments', data),\r\n    deleteDepartment: (id: string) => api.delete(`/departments/${id}`),\r\n\r\n    // Settings\r\n    getSystemSettings: () => api.get('/settings'),\r\n    updateSystemSettings: (data: any) => api.post('/settings', data),\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,UAAU,oEAAmC;AAEnD,wBAAwB;AACxB,MAAM,MAAqB,iOAAK,CAAC,MAAM,CAAC;IACpC,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,wCAAwC;AACxC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CACxB,CAAC;IACG,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX,GACA,CAAC;IACG,OAAO,QAAQ,MAAM,CAAC;AAC1B;AAGJ,+CAA+C;AAC/C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC,WAAa,UACd,OAAO;IACH,MAAM,kBAAuB,MAAM,MAAM;IAEzC,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC3D,gBAAgB,MAAM,GAAG;QAEzB,IAAI;YACA,MAAM,eAAe,aAAa,OAAO,CAAC;YAE1C,IAAI,CAAC,cAAc;gBACf,aAAa,KAAK;gBAClB,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB,OAAO,QAAQ,MAAM,CAAC;YAC1B;YAEA,MAAM,WAAW,MAAM,iOAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,aAAa,CAAC,EAAE;gBACzD;YACJ;YAEA,MAAM,EAAE,WAAW,EAAE,GAAG,SAAS,IAAI;YACrC,aAAa,OAAO,CAAC,eAAe;YAEpC,gBAAgB,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,aAAa;YAC/D,OAAO,IAAI;QACf,EAAE,OAAO,cAAc;YACnB,aAAa,KAAK;YAClB,OAAO,QAAQ,CAAC,IAAI,GAAG;YACvB,OAAO,QAAQ,MAAM,CAAC;QAC1B;IACJ;IAEA,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW;AAGR,MAAM,YAAY;IACrB,OAAO;IACP,OAAO,CAAC,OAAe,WACnB,IAAI,IAAI,CAAC,eAAe;YAAE;YAAO;QAAS;IAE9C,cAAc,CAAC,eACX,IAAI,IAAI,CAAC,iBAAiB;YAAE;QAAa;IAE7C,gBAAgB,IACZ,IAAI,GAAG,CAAC;IAEZ,UAAU,CAAC,SACP,IAAI,GAAG,CAAC,UAAU;YAAE;QAAO;IAE/B,YAAY,CAAC,OACT,IAAI,IAAI,CAAC,UAAU;IAEvB,YAAY,CAAC,IAAY,OACrB,IAAI,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE;IAE5B,YAAY,CAAC,KACT,IAAI,MAAM,CAAC,CAAC,OAAO,EAAE,IAAI;IAE7B,WAAW;IACX,aAAa,CAAC,SACV,IAAI,GAAG,CAAC,aAAa;YAAE;QAAO;IAElC,YAAY,CAAC,KACT,IAAI,GAAG,CAAC,CAAC,UAAU,EAAE,IAAI;IAE7B,mBAAmB,IACf,IAAI,GAAG,CAAC;IAEZ,eAAe,CAAC,OACZ,IAAI,IAAI,CAAC,aAAa;IAE1B,oBAAoB,CAAC,WACjB,IAAI,IAAI,CAAC,kBAAkB;YAAE;QAAS;IAE1C,eAAe,CAAC,IAAY,OACxB,IAAI,GAAG,CAAC,CAAC,UAAU,EAAE,IAAI,EAAE;IAE/B,sBAAsB,CAAC,IAAY,OAC/B,IAAI,GAAG,CAAC,CAAC,UAAU,EAAE,GAAG,QAAQ,CAAC,EAAE;IAEvC,eAAe,CAAC,KACZ,IAAI,MAAM,CAAC,CAAC,UAAU,EAAE,IAAI;IAEhC,oBAAoB,CAAC,MACjB,IAAI,MAAM,CAAC,yBAAyB;YAAE,MAAM;gBAAE;YAAI;QAAE;IAExD,sBAAsB,CAAC,KACnB,IAAI,IAAI,CAAC,CAAC,UAAU,EAAE,GAAG,eAAe,CAAC;IAE7C,WAAW;IACX,oBAAoB,IAAM,IAAI,GAAG,CAAC;IAClC,gBAAgB,IAAM,IAAI,GAAG,CAAC;IAC9B,qBAAqB,CAAC,WAAmB,WAAmB,OACxD,IAAI,GAAG,CAAC,CAAC,UAAU,EAAE,UAAU,UAAU,EAAE,UAAU,OAAO,CAAC,EAAE;IAEnE,YAAY;IACZ,cAAc,IAAM,IAAI,GAAG,CAAC;IAC5B,eAAe,CAAC,OAAc,IAAI,IAAI,CAAC,wBAAwB;IAC/D,iBAAiB,IAAM,IAAI,GAAG,CAAC;IAC/B,iBAAiB,CAAC,OAAc,IAAI,IAAI,CAAC,2BAA2B;IACpE,yBAAyB,CAAC,IAAY,SAAmB,IAAI,GAAG,CAAC,CAAC,wBAAwB,EAAE,IAAI,EAAE;YAAE;QAAO;IAC3G,mBAAmB,IAAM,IAAI,GAAG,CAAC;IAEjC,gBAAgB;IAChB,kBAAkB,IAAM,IAAI,GAAG,CAAC;IAChC,sBAAsB,IAAM,IAAI,GAAG,CAAC;IACpC,wBAAwB,CAAC,KAAe,IAAI,GAAG,CAAC,CAAC,eAAe,EAAE,GAAG,KAAK,CAAC;IAC3E,kBAAkB,CAAC,OAAc,IAAI,IAAI,CAAC,uBAAuB;IAEjE,YAAY;IACZ,sBAAsB,IAAM,IAAI,GAAG,CAAC;IACpC,yBAAyB,CAAC,OAAc,IAAI,IAAI,CAAC,uBAAuB;IACxE,qBAAqB,CAAC,SAAiB,IAAI,GAAG,CAAC,sBAAsB;YAAE;QAAO;IAC9E,wBAAwB,CAAC,OAAc,IAAI,IAAI,CAAC,sBAAsB;IAEtE,cAAc;IACd,gBAAgB,IAAM,IAAI,GAAG,CAAC;IAC9B,gBAAgB,IAAM,IAAI,GAAG,CAAC;IAC9B,kBAAkB,CAAC,OAAc,IAAI,IAAI,CAAC,gBAAgB;IAC1D,kBAAkB,CAAC,KAAe,IAAI,MAAM,CAAC,CAAC,aAAa,EAAE,IAAI;IAEjE,WAAW;IACX,mBAAmB,IAAM,IAAI,GAAG,CAAC;IACjC,sBAAsB,CAAC,OAAc,IAAI,IAAI,CAAC,aAAa;AAC/D"}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/darun/OneDrive/Desktop/department-portal-2/department-portal-2/app/dashboard/faculty/timetable/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useSession } from \"next-auth/react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { ArrowLeft } from \"lucide-react\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { apiClient } from \"@/lib/api\"\n\nexport default function FacultyTimetablePage() {\n  const router = useRouter()\n  const { data: session, status } = useSession()\n  const [user, setUser] = useState<any>(null)\n  const [timetableSettings, setTimetableSettings] = useState<any>({\n    startTime: \"08:30\",\n    periodDuration: 55,\n    periodsPerDay: 5,\n    breakAfterPeriod: 2,\n    breakDuration: 25,\n  })\n  const [facultyTimetable, setFacultyTimetable] = useState<any[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    if (status === \"loading\") return\n    if (status === \"unauthenticated\") {\n      router.push(\"/\")\n      return\n    }\n\n    const userData = session?.user\n    if (!userData || userData.role !== \"faculty\") {\n      router.push(userData?.role ? `/dashboard/${userData.role}` : \"/\")\n      return\n    }\n\n    setUser(userData)\n    fetchData(userData.id)\n  }, [session, status, router])\n\n  const fetchData = async (facultyId: string) => {\n    try {\n      setLoading(true)\n\n      // Fetch Timetable Settings\n      const settingsRes = await apiClient.getTimetableSettings()\n      if (settingsRes.data && settingsRes.data.startTime) {\n        setTimetableSettings(settingsRes.data)\n      }\n\n      // Fetch Timetable Entries for this specific faculty\n      const entriesRes = await apiClient.getTimetableEntries({ facultyId })\n      const dbEntries = entriesRes.data\n      setFacultyTimetable(dbEntries || [])\n    } catch (error) {\n      console.error(\"Failed to fetch timetable data\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Helper to generate time slots (to show when the classes are)\n  const getSlotTime = (periodIdx: number) => {\n    let currentTime = new Date(`2000-01-01T${timetableSettings.startTime}`)\n\n    // Skip to the correct period\n    for (let i = 0; i < periodIdx; i++) {\n      currentTime.setMinutes(currentTime.getMinutes() + (timetableSettings.periodDuration || 55))\n      if (i + 1 === timetableSettings.breakAfterPeriod) {\n        currentTime.setMinutes(currentTime.getMinutes() + (timetableSettings.breakDuration || 25))\n      }\n    }\n\n    const startStr = currentTime.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\", hour12: true })\n    currentTime.setMinutes(currentTime.getMinutes() + (timetableSettings.periodDuration || 55))\n    const endStr = currentTime.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\", hour12: true })\n\n    return `${startStr} - ${endStr}`\n  }\n\n  if (!user || loading) {\n    return (\n      <div className=\"flex h-screen items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary\"></div>\n      </div>\n    )\n  }\n\n  const DAYS = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"border-b bg-card\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center gap-4\">\n            <Button variant=\"ghost\" size=\"sm\" onClick={() => router.push(\"/dashboard/faculty\")}>\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\n              Back to Dashboard\n            </Button>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"container mx-auto px-4 py-8\">\n        <div className=\"mb-8\">\n          <h2 className=\"text-3xl font-semibold tracking-tight mb-2\">My Teaching Schedule</h2>\n          <p className=\"text-muted-foreground\">Classes assigned to you in the {user.department} department</p>\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle>Weekly Timetable</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full border-collapse\">\n                <thead>\n                  <tr className=\"border-b\">\n                    <th className=\"text-left p-3 bg-muted font-medium\">Day</th>\n                    <th className=\"text-left p-3 bg-muted font-medium\">Schedule</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {DAYS.map((day) => {\n                    const dayEntries = facultyTimetable.filter(e => e.day === day)\n                    return (\n                      <tr key={day} className=\"border-b hover:bg-muted/5 transition-colors\">\n                        <td className=\"p-3 font-medium w-32\">{day}</td>\n                        <td className=\"p-3\">\n                          <div className=\"flex flex-wrap gap-2\">\n                            {dayEntries.length > 0 ? (\n                              dayEntries.sort((a, b) => a.periodIndex - b.periodIndex).map((entry, idx) => (\n                                <div key={idx} className=\"flex flex-col border rounded p-2 bg-card min-w-[200px]\">\n                                  <div className=\"flex items-center justify-between mb-1\">\n                                    <Badge variant=\"secondary\" className=\"text-[10px]\">\n                                      Period {entry.periodIndex + 1}\n                                    </Badge>\n                                    <span className=\"text-[10px] text-muted-foreground\">\n                                      {getSlotTime(entry.periodIndex)}\n                                    </span>\n                                  </div>\n                                  <div className=\"font-semibold text-sm\">{entry.subject}</div>\n                                  <div className=\"text-xs text-muted-foreground\">Year {entry.year}</div>\n                                </div>\n                              ))\n                            ) : (\n                              <span className=\"text-muted-foreground text-sm italic\">No classes assigned</span>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    )\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}